!function(a){var b={url:"",container:null},c={init:function(c){b=a.extend({},b,c)},getCourses:function(a){var c=""+b.url;k(a,"courseAreaId")&&(c=c+"/"+a.courseAreaId),k(a,"page")&&(c=c+"/"+a.page);var d=i(this,a);j(c,d)},getEvents:function(a){var c=""+b.url;k(a,"courseId")&&(c=c+"/"+a.courseId),k(a,"page")&&(c=c+"/"+a.page);var d=i(this,a);j(c,d)},autoRender:function(b,c){a(b).find("[ls-object]").each(function(){e(a(this),c)}),a(b).find("[ls-repeat]").each(function(){d(a(this),c)})}},d=function(b,c){b.hide();var d=c;"[object Array]"!==Object.prototype.toString.call(d)&&(d=c[b.attr("ls-repeat")]);var e="undefined"!=typeof b.attr("ls-repeat-max")?b.attr("ls-repeat-max"):d.length;e>d.length?e=d.length:d.length>e&&d.splice(0,d.length-1);var h=!1;for(var i in d)"string"!=typeof i||a.isNumeric(i)||(h=!0);var j=[];if(h)for(var i in d){var l=b.clone(!0);l.attr("id",""),f(l,{key:i,value:d[i]}),g(l,{key:i,value:d[i]}),l.show(),l.removeAttr("ls-repeat ls-repeat-max"),j.push(l)}else for(var k=0;k<e;k++){var l=b.clone(!0);l.attr("id",""),f(l,d[k]),g(l,d[k]),l.show(),l.removeAttr("ls-repeat ls-repeat-max"),j.push(l)}b.after(j),b.remove()},e=function(a,b){var c=a.attr("ls-object");f(a,b,c),g(a,b,c),a.show()},f=function(b,c,d){"undefined"!=typeof d&&null!=d&&""!==d&&(c=c[d]),b.find("[ls-field]").each(function(){var b=h(c,a(this).attr("ls-field"));"undefined"!=typeof a(this).attr("ls-format")&&""!==b&&("undefined"==typeof moment?console.warn("moment.js is required for date/time formatting: http://momentjs.com"):b=moment(b).format(a(this).attr("ls-format"))),"false"===a(this).attr("ls-escape")?a(this).html(b):a(this).text(b),a(this).removeAttr("ls-field ls-format")})},g=function(b,c,d){"undefined"!=typeof d&&null!=d&&""!==d&&(c=c[d]);var e=""+b.html(),f=e.match(/{!([a-zA-Z_\.]+)}/gi);if(null!=f){for(var g=0;g<f.length;g++){var i=h(c,f[g].substring(2,f[g].length-1)),j=a("<span/>").text(i).text();e=e.replace(f[g],j)}b.html(e)}},h=function(a,b){for(var c=b.split("."),d=0;d<c.length-1;d++){if("undefined"==typeof a[c[d]])return"";a=a[c[d]]}return a[c[c.length-1]]},i=function(a,b){var d;if(k(b,"onSuccess")&&(d=b.onSuccess),!k(b,"autoRender")||b.autoRender===!0){var e,f;"undefined"!=typeof d&&null!==d&&(e=d.clone()),k(b,"beforeRender")&&(f=b.beforeRender),d=function(b){"function"==typeof f&&f(b),c.autoRender(a,b),"function"==typeof e&&e(b)}}return d},j=function(b,c){a.ajax({type:"GET",url:b,dataType:"json",success:c,error:function(a,b,c,d){alert("Callout to REST API Failed."),console.error(a),console.error(b),console.error(c),console.error(d)}})},k=function(a,b){return"undefined"!=typeof a&&"undefined"!=typeof a[b]&&a[b]};Function.prototype.clone=function(){var a=this,b=function(){return a.apply(this,arguments)};for(var c in this)this.hasOwnProperty(c)&&(b[c]=this[c]);return b},a.fn.LearnsmarterREST=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on LearnsmarterREST"):c.init.apply(this,arguments)}}(jQuery);